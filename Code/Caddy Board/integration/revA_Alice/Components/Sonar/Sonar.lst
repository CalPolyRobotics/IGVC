   1               		.file	"Sonar.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
 136               		.comm	sonarSemaphore,2,1
 137               		.comm	sonarDataMutex,12,1
 138               		.local	sonarData
 139               		.comm	sonarData,12,1
 140               		.local	sonarNum0
 141               		.comm	sonarNum0,2,1
 142               		.data
 145               	sonarNum1:
 146 0000 0100      		.word	1
 149               	sonarNum2:
 150 0002 0200      		.word	2
 151               		.local	currSonar
 152               		.comm	currSonar,1,1
 153               		.local	lastSonarData
 154               		.comm	lastSonarData,1,1
 155               		.text
 159               	.global	setSonarData
 161               	setSonarData:
 162               		.stabd	46,0,0
   1:Components/Sonar/Sonar.c **** // Code to controller the Sonar sensors
   2:Components/Sonar/Sonar.c **** #include "FreeRTOS.h"
   3:Components/Sonar/Sonar.c **** #include "semphr.h"
   4:Components/Sonar/Sonar.c **** #include <avr/interrupt.h>
   5:Components/Sonar/Sonar.c **** #include <avr/io.h>
   6:Components/Sonar/Sonar.c **** 
   7:Components/Sonar/Sonar.c **** #include "../../protocol.h"
   8:Components/Sonar/Sonar.c **** #include "../../ADC.h"
   9:Components/Sonar/Sonar.c **** #include "../../usart.h"
  10:Components/Sonar/Sonar.c **** #include "Sonar.h"
  11:Components/Sonar/Sonar.c **** 
  12:Components/Sonar/Sonar.c **** xSemaphoreHandle* sonarSemaphore;
  13:Components/Sonar/Sonar.c **** xSemaphoreHandle* sonarDataMutex[6];
  14:Components/Sonar/Sonar.c **** 
  15:Components/Sonar/Sonar.c **** static int sonarData[6];
  16:Components/Sonar/Sonar.c **** static int sonarNum0 = 0;
  17:Components/Sonar/Sonar.c **** static int sonarNum1 = 1;
  18:Components/Sonar/Sonar.c **** static int sonarNum2 = 2;
  19:Components/Sonar/Sonar.c **** 
  20:Components/Sonar/Sonar.c **** static unsigned char currSonar;
  21:Components/Sonar/Sonar.c **** static unsigned char lastSonarData = 0;
  22:Components/Sonar/Sonar.c **** 
  23:Components/Sonar/Sonar.c **** /*void printHex(int i){
  24:Components/Sonar/Sonar.c **** 	char hex[] = {'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};
  25:Components/Sonar/Sonar.c **** 
  26:Components/Sonar/Sonar.c **** 	USART_Write(hex[(i&0xF000) >> 12]);
  27:Components/Sonar/Sonar.c **** 	USART_Write(hex[(i&0xF00) >> 8]);
  28:Components/Sonar/Sonar.c **** 	USART_Write(hex[(i&0xF0) >> 4]);
  29:Components/Sonar/Sonar.c **** 	USART_Write(hex[i&0xF]);
  30:Components/Sonar/Sonar.c **** 
  31:Components/Sonar/Sonar.c **** }   */
  32:Components/Sonar/Sonar.c **** 
  33:Components/Sonar/Sonar.c **** void setSonarData(int i,int data){
 164               	.LM0:
 165               	.LFBB1:
 166 0000 CF93      		push r28
 167 0002 DF93      		push r29
 168 0004 00D0      		rcall .
 169 0006 1F92      		push __zero_reg__
 170 0008 CDB7      		in r28,__SP_L__
 171 000a DEB7      		in r29,__SP_H__
 172               	/* prologue: function */
 173               	/* frame size = 4 */
 174               	/* stack size = 6 */
 175               	.L__stack_usage = 6
 176 000c 9A83      		std Y+2,r25
 177 000e 8983      		std Y+1,r24
 178 0010 7C83      		std Y+4,r23
 179 0012 6B83      		std Y+3,r22
  34:Components/Sonar/Sonar.c **** // xSemaphoreTake(sonarDataMutex[i],portMAX_DELAY);
  35:Components/Sonar/Sonar.c ****    sonarData[i] = data;
 181               	.LM1:
 182 0014 8981      		ldd r24,Y+1
 183 0016 9A81      		ldd r25,Y+2
 184 0018 880F      		lsl r24
 185 001a 991F      		rol r25
 186 001c 8050      		subi r24,lo8(-(sonarData))
 187 001e 9040      		sbci r25,hi8(-(sonarData))
 188 0020 2B81      		ldd r18,Y+3
 189 0022 3C81      		ldd r19,Y+4
 190 0024 FC01      		movw r30,r24
 191 0026 3183      		std Z+1,r19
 192 0028 2083      		st Z,r18
 193               	/* epilogue start */
  36:Components/Sonar/Sonar.c ****    //xSemaphoreGive(sonarDataMutex[i]);
  37:Components/Sonar/Sonar.c **** }
 195               	.LM2:
 196 002a 0F90      		pop __tmp_reg__
 197 002c 0F90      		pop __tmp_reg__
 198 002e 0F90      		pop __tmp_reg__
 199 0030 0F90      		pop __tmp_reg__
 200 0032 DF91      		pop r29
 201 0034 CF91      		pop r28
 202 0036 0895      		ret
 204               	.Lscope1:
 206               		.stabd	78,0,0
 209               	.global	getSonarData
 211               	getSonarData:
 212               		.stabd	46,0,0
  38:Components/Sonar/Sonar.c **** 
  39:Components/Sonar/Sonar.c **** int getSonarData(int i){
 214               	.LM3:
 215               	.LFBB2:
 216 0038 CF93      		push r28
 217 003a DF93      		push r29
 218 003c 1F92      		push __zero_reg__
 219 003e 1F92      		push __zero_reg__
 220 0040 CDB7      		in r28,__SP_L__
 221 0042 DEB7      		in r29,__SP_H__
 222               	/* prologue: function */
 223               	/* frame size = 2 */
 224               	/* stack size = 4 */
 225               	.L__stack_usage = 4
 226 0044 9A83      		std Y+2,r25
 227 0046 8983      		std Y+1,r24
  40:Components/Sonar/Sonar.c ****    //xSemaphoreTake(sonarDataMutex[i],portMAX_DELAY);
  41:Components/Sonar/Sonar.c ****    return sonarData[i];
 229               	.LM4:
 230 0048 8981      		ldd r24,Y+1
 231 004a 9A81      		ldd r25,Y+2
 232 004c 880F      		lsl r24
 233 004e 991F      		rol r25
 234 0050 8050      		subi r24,lo8(-(sonarData))
 235 0052 9040      		sbci r25,hi8(-(sonarData))
 236 0054 FC01      		movw r30,r24
 237 0056 8081      		ld r24,Z
 238 0058 9181      		ldd r25,Z+1
 239               	/* epilogue start */
  42:Components/Sonar/Sonar.c ****    //xSemaphoreGive(sonarDataMutex[i]);
  43:Components/Sonar/Sonar.c **** }
 241               	.LM5:
 242 005a 0F90      		pop __tmp_reg__
 243 005c 0F90      		pop __tmp_reg__
 244 005e DF91      		pop r29
 245 0060 CF91      		pop r28
 246 0062 0895      		ret
 248               	.Lscope2:
 250               		.stabd	78,0,0
 252               	.global	getTimerCount
 254               	getTimerCount:
 255               		.stabd	46,0,0
  44:Components/Sonar/Sonar.c **** 
  45:Components/Sonar/Sonar.c **** unsigned char getTimerCount(){
 257               	.LM6:
 258               	.LFBB3:
 259 0064 CF93      		push r28
 260 0066 DF93      		push r29
 261 0068 CDB7      		in r28,__SP_L__
 262 006a DEB7      		in r29,__SP_H__
 263               	/* prologue: function */
 264               	/* frame size = 0 */
 265               	/* stack size = 2 */
 266               	.L__stack_usage = 2
  46:Components/Sonar/Sonar.c ****    return TCNT0;
 268               	.LM7:
 269 006c 86E4      		ldi r24,lo8(70)
 270 006e 90E0      		ldi r25,0
 271 0070 FC01      		movw r30,r24
 272 0072 8081      		ld r24,Z
 273               	/* epilogue start */
  47:Components/Sonar/Sonar.c **** }
 275               	.LM8:
 276 0074 DF91      		pop r29
 277 0076 CF91      		pop r28
 278 0078 0895      		ret
 280               	.Lscope3:
 282               		.stabd	78,0,0
 284               	.global	__vector_11
 286               	__vector_11:
 287               		.stabd	46,0,0
  48:Components/Sonar/Sonar.c **** 
  49:Components/Sonar/Sonar.c **** inline void setTimerCount(unsigned char i){
  50:Components/Sonar/Sonar.c ****    TCNT0 = i;
  51:Components/Sonar/Sonar.c **** }
  52:Components/Sonar/Sonar.c **** 
  53:Components/Sonar/Sonar.c **** ISR(PCINT2_vect) {
 289               	.LM9:
 290               	.LFBB4:
 291 007a 1F92      		push r1
 292 007c 0F92      		push r0
 293 007e 0090 5F00 		lds r0,95
 294 0082 0F92      		push r0
 295 0084 1124      		clr __zero_reg__
 296 0086 0090 5B00 		lds r0,91
 297 008a 0F92      		push r0
 298 008c 2F93      		push r18
 299 008e 3F93      		push r19
 300 0090 4F93      		push r20
 301 0092 5F93      		push r21
 302 0094 6F93      		push r22
 303 0096 7F93      		push r23
 304 0098 8F93      		push r24
 305 009a 9F93      		push r25
 306 009c AF93      		push r26
 307 009e BF93      		push r27
 308 00a0 EF93      		push r30
 309 00a2 FF93      		push r31
 310 00a4 CF93      		push r28
 311 00a6 DF93      		push r29
 312 00a8 00D0      		rcall .
 313 00aa CDB7      		in r28,__SP_L__
 314 00ac DEB7      		in r29,__SP_H__
 315               	/* prologue: Signal */
 316               	/* frame size = 3 */
 317               	/* stack size = 21 */
 318               	.L__stack_usage = 21
  54:Components/Sonar/Sonar.c **** 
  55:Components/Sonar/Sonar.c ****    unsigned char beginCount;
  56:Components/Sonar/Sonar.c ****    unsigned char currCount;
  57:Components/Sonar/Sonar.c ****    char i=0;   
 320               	.LM10:
 321 00ae 1982      		std Y+1,__zero_reg__
  58:Components/Sonar/Sonar.c **** 
  59:Components/Sonar/Sonar.c ****    if(PINK&(1<<currSonar)){
 323               	.LM11:
 324 00b0 86E0      		ldi r24,lo8(6)
 325 00b2 91E0      		ldi r25,lo8(1)
 326 00b4 FC01      		movw r30,r24
 327 00b6 8081      		ld r24,Z
 328 00b8 882F      		mov r24,r24
 329 00ba 90E0      		ldi r25,0
 330 00bc 2091 0000 		lds r18,currSonar
 331 00c0 222F      		mov r18,r18
 332 00c2 30E0      		ldi r19,0
 333 00c4 022E      		mov r0,r18
 334 00c6 00C0      		rjmp 2f
 335               		1:
 336 00c8 9595      		asr r25
 337 00ca 8795      		ror r24
 338               		2:
 339 00cc 0A94      		dec r0
 340 00ce 02F4      		brpl 1b
 341 00d0 8170      		andi r24,1
 342 00d2 9927      		clr r25
 343 00d4 0097      		sbiw r24,0
 344 00d6 01F0      		breq .L7
  60:Components/Sonar/Sonar.c ****       //USART_AddToQueue('U');
  61:Components/Sonar/Sonar.c ****       beginCount = getTimerCount();
 346               	.LM12:
 347 00d8 0E94 0000 		call getTimerCount
 348 00dc 8A83      		std Y+2,r24
  62:Components/Sonar/Sonar.c ****       PORTE = 0xFF;
 350               	.LM13:
 351 00de 8EE2      		ldi r24,lo8(46)
 352 00e0 90E0      		ldi r25,0
 353 00e2 2FEF      		ldi r18,lo8(-1)
 354 00e4 FC01      		movw r30,r24
 355 00e6 2083      		st Z,r18
 356 00e8 00C0      		rjmp .L6
 357               	.L7:
  63:Components/Sonar/Sonar.c ****    } else {
  64:Components/Sonar/Sonar.c ****       //USART_AddToQueue('D');
  65:Components/Sonar/Sonar.c ****       currCount = getTimerCount();
 359               	.LM14:
 360 00ea 0E94 0000 		call getTimerCount
 361 00ee 8B83      		std Y+3,r24
  66:Components/Sonar/Sonar.c ****       if(currCount > beginCount){
 363               	.LM15:
 364 00f0 9B81      		ldd r25,Y+3
 365 00f2 8A81      		ldd r24,Y+2
 366 00f4 8917      		cp r24,r25
 367 00f6 00F4      		brsh .L9
  67:Components/Sonar/Sonar.c ****          lastSonarData = currCount - beginCount;
 369               	.LM16:
 370 00f8 9B81      		ldd r25,Y+3
 371 00fa 8A81      		ldd r24,Y+2
 372 00fc F92F      		mov r31,r25
 373 00fe F81B      		sub r31,r24
 374 0100 8F2F      		mov r24,r31
 375 0102 8093 0000 		sts lastSonarData,r24
 376               	.L9:
  68:Components/Sonar/Sonar.c ****       }
  69:Components/Sonar/Sonar.c ****       PORTE = 0;
 378               	.LM17:
 379 0106 8EE2      		ldi r24,lo8(46)
 380 0108 90E0      		ldi r25,0
 381 010a FC01      		movw r30,r24
 382 010c 1082      		st Z,__zero_reg__
  70:Components/Sonar/Sonar.c ****       xSemaphoreGiveFromISR(sonarSemaphore,0);
 384               	.LM18:
 385 010e 8091 0000 		lds r24,sonarSemaphore
 386 0112 9091 0000 		lds r25,sonarSemaphore+1
 387 0116 20E0      		ldi r18,0
 388 0118 40E0      		ldi r20,0
 389 011a 50E0      		ldi r21,0
 390 011c 60E0      		ldi r22,0
 391 011e 70E0      		ldi r23,0
 392 0120 0E94 0000 		call xQueueGenericSendFromISR
 393               	.L6:
 394               	/* epilogue start */
  71:Components/Sonar/Sonar.c ****    }
  72:Components/Sonar/Sonar.c **** 
  73:Components/Sonar/Sonar.c **** }
 396               	.LM19:
 397 0124 0F90      		pop __tmp_reg__
 398 0126 0F90      		pop __tmp_reg__
 399 0128 0F90      		pop __tmp_reg__
 400 012a DF91      		pop r29
 401 012c CF91      		pop r28
 402 012e FF91      		pop r31
 403 0130 EF91      		pop r30
 404 0132 BF91      		pop r27
 405 0134 AF91      		pop r26
 406 0136 9F91      		pop r25
 407 0138 8F91      		pop r24
 408 013a 7F91      		pop r23
 409 013c 6F91      		pop r22
 410 013e 5F91      		pop r21
 411 0140 4F91      		pop r20
 412 0142 3F91      		pop r19
 413 0144 2F91      		pop r18
 414 0146 0F90      		pop r0
 415 0148 0092 5B00 		sts 91,r0
 416 014c 0F90      		pop r0
 417 014e 0092 5F00 		sts 95,r0
 418 0152 0F90      		pop r0
 419 0154 1F90      		pop r1
 420 0156 1895      		reti
 427               	.Lscope4:
 429               		.stabd	78,0,0
 433               	.global	sonarADCHandler
 435               	sonarADCHandler:
 436               		.stabd	46,0,0
  74:Components/Sonar/Sonar.c **** 
  75:Components/Sonar/Sonar.c **** void sonarADCHandler(int result,void *sonarNum){
 438               	.LM20:
 439               	.LFBB5:
 440 0158 CF93      		push r28
 441 015a DF93      		push r29
 442 015c 00D0      		rcall .
 443 015e 1F92      		push __zero_reg__
 444 0160 CDB7      		in r28,__SP_L__
 445 0162 DEB7      		in r29,__SP_H__
 446               	/* prologue: function */
 447               	/* frame size = 4 */
 448               	/* stack size = 6 */
 449               	.L__stack_usage = 6
 450 0164 9A83      		std Y+2,r25
 451 0166 8983      		std Y+1,r24
 452 0168 7C83      		std Y+4,r23
 453 016a 6B83      		std Y+3,r22
  76:Components/Sonar/Sonar.c **** 
  77:Components/Sonar/Sonar.c **** 	/*printHex(*((int *)sonarNum));
  78:Components/Sonar/Sonar.c **** 	USART_Write('\n');
  79:Components/Sonar/Sonar.c **** 	USART_Write('\r');*/
  80:Components/Sonar/Sonar.c **** 
  81:Components/Sonar/Sonar.c **** 	setSonarData(*((int *)sonarNum),result);
 455               	.LM21:
 456 016c 8B81      		ldd r24,Y+3
 457 016e 9C81      		ldd r25,Y+4
 458 0170 FC01      		movw r30,r24
 459 0172 8081      		ld r24,Z
 460 0174 9181      		ldd r25,Z+1
 461 0176 2981      		ldd r18,Y+1
 462 0178 3A81      		ldd r19,Y+2
 463 017a B901      		movw r22,r18
 464 017c 0E94 0000 		call setSonarData
 465               	/* epilogue start */
  82:Components/Sonar/Sonar.c **** 
  83:Components/Sonar/Sonar.c **** }
 467               	.LM22:
 468 0180 0F90      		pop __tmp_reg__
 469 0182 0F90      		pop __tmp_reg__
 470 0184 0F90      		pop __tmp_reg__
 471 0186 0F90      		pop __tmp_reg__
 472 0188 DF91      		pop r29
 473 018a CF91      		pop r28
 474 018c 0895      		ret
 476               	.Lscope5:
 478               		.stabd	78,0,0
 480               	.global	initializeSonarSensors
 482               	initializeSonarSensors:
 483               		.stabd	46,0,0
  84:Components/Sonar/Sonar.c **** 
  85:Components/Sonar/Sonar.c **** void initializeSonarSensors(){
 485               	.LM23:
 486               	.LFBB6:
 487 018e CF93      		push r28
 488 0190 DF93      		push r29
 489 0192 CDB7      		in r28,__SP_L__
 490 0194 DEB7      		in r29,__SP_H__
 491               	/* prologue: function */
 492               	/* frame size = 0 */
 493               	/* stack size = 2 */
 494               	.L__stack_usage = 2
  86:Components/Sonar/Sonar.c ****    //DDRD &= 0xFE;   
  87:Components/Sonar/Sonar.c ****    /*DIDR2 = 0;
  88:Components/Sonar/Sonar.c ****    DDRK = 0;
  89:Components/Sonar/Sonar.c ****    DDRC = 0;
  90:Components/Sonar/Sonar.c **** 
  91:Components/Sonar/Sonar.c ****    PORTC = 0;
  92:Components/Sonar/Sonar.c **** 
  93:Components/Sonar/Sonar.c ****    //EICRA = 1;
  94:Components/Sonar/Sonar.c ****    //EIMSK = 1;
  95:Components/Sonar/Sonar.c **** 
  96:Components/Sonar/Sonar.c ****    PCMSK2 = 0xFF;
  97:Components/Sonar/Sonar.c ****    PCICR = 0x7;
  98:Components/Sonar/Sonar.c **** 
  99:Components/Sonar/Sonar.c ****    TCCR0A = 0;
 100:Components/Sonar/Sonar.c ****    TCCR0B = 5;*/
 101:Components/Sonar/Sonar.c **** 
 102:Components/Sonar/Sonar.c **** 	addADCDevice(0,ADC_OPT_PRECISION_HIGH,sonarADCHandler,&sonarNum0);			
 496               	.LM24:
 497 0196 20E0      		ldi r18,lo8(sonarNum0)
 498 0198 30E0      		ldi r19,hi8(sonarNum0)
 499 019a 40E0      		ldi r20,lo8(gs(sonarADCHandler))
 500 019c 50E0      		ldi r21,hi8(gs(sonarADCHandler))
 501 019e 60E0      		ldi r22,0
 502 01a0 70E0      		ldi r23,0
 503 01a2 80E0      		ldi r24,0
 504 01a4 90E0      		ldi r25,0
 505 01a6 0E94 0000 		call addADCDevice
 103:Components/Sonar/Sonar.c **** 	addADCDevice(12,ADC_OPT_PRECISION_HIGH,sonarADCHandler,&sonarNum1);			
 507               	.LM25:
 508 01aa 20E0      		ldi r18,lo8(sonarNum1)
 509 01ac 30E0      		ldi r19,hi8(sonarNum1)
 510 01ae 40E0      		ldi r20,lo8(gs(sonarADCHandler))
 511 01b0 50E0      		ldi r21,hi8(gs(sonarADCHandler))
 512 01b2 60E0      		ldi r22,0
 513 01b4 70E0      		ldi r23,0
 514 01b6 8CE0      		ldi r24,lo8(12)
 515 01b8 90E0      		ldi r25,0
 516 01ba 0E94 0000 		call addADCDevice
 104:Components/Sonar/Sonar.c **** 	addADCDevice(15,ADC_OPT_PRECISION_HIGH,sonarADCHandler,&sonarNum2);			
 518               	.LM26:
 519 01be 20E0      		ldi r18,lo8(sonarNum2)
 520 01c0 30E0      		ldi r19,hi8(sonarNum2)
 521 01c2 40E0      		ldi r20,lo8(gs(sonarADCHandler))
 522 01c4 50E0      		ldi r21,hi8(gs(sonarADCHandler))
 523 01c6 60E0      		ldi r22,0
 524 01c8 70E0      		ldi r23,0
 525 01ca 8FE0      		ldi r24,lo8(15)
 526 01cc 90E0      		ldi r25,0
 527 01ce 0E94 0000 		call addADCDevice
 528               	/* epilogue start */
 105:Components/Sonar/Sonar.c **** 
 106:Components/Sonar/Sonar.c **** }
 530               	.LM27:
 531 01d2 DF91      		pop r29
 532 01d4 CF91      		pop r28
 533 01d6 0895      		ret
 535               	.Lscope6:
 537               		.stabd	78,0,0
 540               	.global	vTaskSonar
 542               	vTaskSonar:
 543               		.stabd	46,0,0
 107:Components/Sonar/Sonar.c **** 
 108:Components/Sonar/Sonar.c **** void vTaskSonar(void* parameter){
 545               	.LM28:
 546               	.LFBB7:
 547 01d8 CF93      		push r28
 548 01da DF93      		push r29
 549 01dc 1F92      		push __zero_reg__
 550 01de 1F92      		push __zero_reg__
 551 01e0 CDB7      		in r28,__SP_L__
 552 01e2 DEB7      		in r29,__SP_H__
 553               	/* prologue: function */
 554               	/* frame size = 2 */
 555               	/* stack size = 4 */
 556               	.L__stack_usage = 4
 557 01e4 9A83      		std Y+2,r25
 558 01e6 8983      		std Y+1,r24
 109:Components/Sonar/Sonar.c **** 
 110:Components/Sonar/Sonar.c ****    int i;
 111:Components/Sonar/Sonar.c ****    initializeSonarSensors();
 560               	.LM29:
 561 01e8 0E94 0000 		call initializeSonarSensors
 562               	.L13:
 563               	.LBB2:
 112:Components/Sonar/Sonar.c **** 	for(;;){
 113:Components/Sonar/Sonar.c **** 		vTaskDelay(300);
 565               	.LM30:
 566 01ec 8CE2      		ldi r24,lo8(44)
 567 01ee 91E0      		ldi r25,lo8(1)
 568 01f0 0E94 0000 		call vTaskDelay
 569               	.LBE2:
 114:Components/Sonar/Sonar.c **** 	}
 571               	.LM31:
 572 01f4 00C0      		rjmp .L13
 574               	.Lscope7:
 576               		.stabd	78,0,0
 579               	.global	getAllSensors
 581               	getAllSensors:
 582               		.stabd	46,0,0
 115:Components/Sonar/Sonar.c ****    
 116:Components/Sonar/Sonar.c ****    vSemaphoreCreateBinary(sonarSemaphore);
 117:Components/Sonar/Sonar.c ****       
 118:Components/Sonar/Sonar.c ****    currSonar = 0;
 119:Components/Sonar/Sonar.c **** 
 120:Components/Sonar/Sonar.c ****    while(1){
 121:Components/Sonar/Sonar.c ****       for(i=0;i<2;i++){
 122:Components/Sonar/Sonar.c ****          currSonar = i;
 123:Components/Sonar/Sonar.c ****          PORTC = (1<<i);
 124:Components/Sonar/Sonar.c ****          xSemaphoreTake(sonarSemaphore,portMAX_DELAY);
 125:Components/Sonar/Sonar.c ****          setSonarData(i,lastSonarData);
 126:Components/Sonar/Sonar.c ****       }
 127:Components/Sonar/Sonar.c ****    }
 128:Components/Sonar/Sonar.c ****             
 129:Components/Sonar/Sonar.c **** } 
 130:Components/Sonar/Sonar.c **** 
 131:Components/Sonar/Sonar.c **** char getAllSensors(unsigned short* responseData){
 584               	.LM32:
 585               	.LFBB8:
 586 01f6 CF93      		push r28
 587 01f8 DF93      		push r29
 588 01fa 00D0      		rcall .
 589 01fc 1F92      		push __zero_reg__
 590 01fe CDB7      		in r28,__SP_L__
 591 0200 DEB7      		in r29,__SP_H__
 592               	/* prologue: function */
 593               	/* frame size = 4 */
 594               	/* stack size = 6 */
 595               	.L__stack_usage = 6
 596 0202 9C83      		std Y+4,r25
 597 0204 8B83      		std Y+3,r24
 132:Components/Sonar/Sonar.c ****    unsigned short i;
 133:Components/Sonar/Sonar.c ****    for(i=0;i<6;i++){
 599               	.LM33:
 600 0206 1A82      		std Y+2,__zero_reg__
 601 0208 1982      		std Y+1,__zero_reg__
 602 020a 00C0      		rjmp .L15
 603               	.L16:
 134:Components/Sonar/Sonar.c ****       //responseData[i] = getSonarData(i);
 135:Components/Sonar/Sonar.c ****       responseData[i] = i+1;
 605               	.LM34:
 606 020c 8981      		ldd r24,Y+1
 607 020e 9A81      		ldd r25,Y+2
 608 0210 880F      		lsl r24
 609 0212 991F      		rol r25
 610 0214 2B81      		ldd r18,Y+3
 611 0216 3C81      		ldd r19,Y+4
 612 0218 820F      		add r24,r18
 613 021a 931F      		adc r25,r19
 614 021c 2981      		ldd r18,Y+1
 615 021e 3A81      		ldd r19,Y+2
 616 0220 2F5F      		subi r18,-1
 617 0222 3F4F      		sbci r19,-1
 618 0224 FC01      		movw r30,r24
 619 0226 3183      		std Z+1,r19
 620 0228 2083      		st Z,r18
 133:Components/Sonar/Sonar.c ****       //responseData[i] = getSonarData(i);
 622               	.LM35:
 623 022a 8981      		ldd r24,Y+1
 624 022c 9A81      		ldd r25,Y+2
 625 022e 0196      		adiw r24,1
 626 0230 9A83      		std Y+2,r25
 627 0232 8983      		std Y+1,r24
 628               	.L15:
 133:Components/Sonar/Sonar.c ****       //responseData[i] = getSonarData(i);
 630               	.LM36:
 631 0234 8981      		ldd r24,Y+1
 632 0236 9A81      		ldd r25,Y+2
 633 0238 8630      		cpi r24,6
 634 023a 9105      		cpc r25,__zero_reg__
 635 023c 00F0      		brlo .L16
 636               	/* epilogue start */
 136:Components/Sonar/Sonar.c ****    }
 137:Components/Sonar/Sonar.c **** }
 638               	.LM37:
 639 023e 0F90      		pop __tmp_reg__
 640 0240 0F90      		pop __tmp_reg__
 641 0242 0F90      		pop __tmp_reg__
 642 0244 0F90      		pop __tmp_reg__
 643 0246 DF91      		pop r29
 644 0248 CF91      		pop r28
 645 024a 0895      		ret
 650               	.Lscope8:
 652               		.stabd	78,0,0
 656               	.global	getCertainSensor
 658               	getCertainSensor:
 659               		.stabd	46,0,0
 138:Components/Sonar/Sonar.c **** 
 139:Components/Sonar/Sonar.c **** char getCertainSensor(char commandData,int* responseData){
 661               	.LM38:
 662               	.LFBB9:
 663 024c 0F93      		push r16
 664 024e 1F93      		push r17
 665 0250 CF93      		push r28
 666 0252 DF93      		push r29
 667 0254 00D0      		rcall .
 668 0256 CDB7      		in r28,__SP_L__
 669 0258 DEB7      		in r29,__SP_H__
 670               	/* prologue: function */
 671               	/* frame size = 3 */
 672               	/* stack size = 7 */
 673               	.L__stack_usage = 7
 674 025a 8983      		std Y+1,r24
 675 025c 7B83      		std Y+3,r23
 676 025e 6A83      		std Y+2,r22
 140:Components/Sonar/Sonar.c ****    if(commandData < 6){
 678               	.LM39:
 679 0260 8981      		ldd r24,Y+1
 680 0262 8630      		cpi r24,lo8(6)
 681 0264 04F4      		brge .L19
 141:Components/Sonar/Sonar.c ****       responseData[commandData] = getSonarData(commandData);
 683               	.LM40:
 684 0266 8981      		ldd r24,Y+1
 685 0268 9927      		clr r25
 686 026a 87FD      		sbrc r24,7
 687 026c 9095      		com r25
 688 026e 880F      		lsl r24
 689 0270 991F      		rol r25
 690 0272 2A81      		ldd r18,Y+2
 691 0274 3B81      		ldd r19,Y+3
 692 0276 8901      		movw r16,r18
 693 0278 080F      		add r16,r24
 694 027a 191F      		adc r17,r25
 695 027c 8981      		ldd r24,Y+1
 696 027e 9927      		clr r25
 697 0280 87FD      		sbrc r24,7
 698 0282 9095      		com r25
 699 0284 0E94 0000 		call getSonarData
 700 0288 F801      		movw r30,r16
 701 028a 9183      		std Z+1,r25
 702 028c 8083      		st Z,r24
 703               	.L19:
 704               	/* epilogue start */
 142:Components/Sonar/Sonar.c ****    }
 143:Components/Sonar/Sonar.c **** }
 706               	.LM41:
 707 028e 0F90      		pop __tmp_reg__
 708 0290 0F90      		pop __tmp_reg__
 709 0292 0F90      		pop __tmp_reg__
 710 0294 DF91      		pop r29
 711 0296 CF91      		pop r28
 712 0298 1F91      		pop r17
 713 029a 0F91      		pop r16
 714 029c 0895      		ret
 716               	.Lscope9:
 718               		.stabd	78,0,0
 722               	.global	getSensorGroup
 724               	getSensorGroup:
 725               		.stabd	46,0,0
 144:Components/Sonar/Sonar.c **** 
 145:Components/Sonar/Sonar.c **** char getSensorGroup(char commandData,int* responseData){
 727               	.LM42:
 728               	.LFBB10:
 729 029e 0F93      		push r16
 730 02a0 1F93      		push r17
 731 02a2 CF93      		push r28
 732 02a4 DF93      		push r29
 733 02a6 00D0      		rcall .
 734 02a8 CDB7      		in r28,__SP_L__
 735 02aa DEB7      		in r29,__SP_H__
 736               	/* prologue: function */
 737               	/* frame size = 3 */
 738               	/* stack size = 7 */
 739               	.L__stack_usage = 7
 740 02ac 8983      		std Y+1,r24
 741 02ae 7B83      		std Y+3,r23
 742 02b0 6A83      		std Y+2,r22
 146:Components/Sonar/Sonar.c **** 
 147:Components/Sonar/Sonar.c ****    switch(commandData){
 744               	.LM43:
 745 02b2 8981      		ldd r24,Y+1
 746 02b4 9927      		clr r25
 747 02b6 87FD      		sbrc r24,7
 748 02b8 9095      		com r25
 749 02ba 8130      		cpi r24,1
 750 02bc 9105      		cpc r25,__zero_reg__
 751 02be 01F0      		breq .L22
 752 02c0 8230      		cpi r24,2
 753 02c2 9105      		cpc r25,__zero_reg__
 754 02c4 01F0      		breq .L23
 755 02c6 0097      		sbiw r24,0
 756 02c8 01F0      		breq .+2
 757 02ca 00C0      		rjmp .L25
 148:Components/Sonar/Sonar.c ****       case SONAR_GROUP_LEFT:
 149:Components/Sonar/Sonar.c ****          responseData[0] = getSonarData(0);
 759               	.LM44:
 760 02cc 80E0      		ldi r24,0
 761 02ce 90E0      		ldi r25,0
 762 02d0 0E94 0000 		call getSonarData
 763 02d4 9C01      		movw r18,r24
 764 02d6 8A81      		ldd r24,Y+2
 765 02d8 9B81      		ldd r25,Y+3
 766 02da FC01      		movw r30,r24
 767 02dc 3183      		std Z+1,r19
 768 02de 2083      		st Z,r18
 150:Components/Sonar/Sonar.c ****          responseData[1] = getSonarData(1);
 770               	.LM45:
 771 02e0 8A81      		ldd r24,Y+2
 772 02e2 9B81      		ldd r25,Y+3
 773 02e4 8C01      		movw r16,r24
 774 02e6 0E5F      		subi r16,-2
 775 02e8 1F4F      		sbci r17,-1
 776 02ea 81E0      		ldi r24,lo8(1)
 777 02ec 90E0      		ldi r25,0
 778 02ee 0E94 0000 		call getSonarData
 779 02f2 F801      		movw r30,r16
 780 02f4 9183      		std Z+1,r25
 781 02f6 8083      		st Z,r24
 151:Components/Sonar/Sonar.c ****          break;
 783               	.LM46:
 784 02f8 00C0      		rjmp .L25
 785               	.L22:
 152:Components/Sonar/Sonar.c ****       case SONAR_GROUP_FRONT:
 153:Components/Sonar/Sonar.c ****          responseData[0] = getSonarData(2);
 787               	.LM47:
 788 02fa 82E0      		ldi r24,lo8(2)
 789 02fc 90E0      		ldi r25,0
 790 02fe 0E94 0000 		call getSonarData
 791 0302 9C01      		movw r18,r24
 792 0304 8A81      		ldd r24,Y+2
 793 0306 9B81      		ldd r25,Y+3
 794 0308 FC01      		movw r30,r24
 795 030a 3183      		std Z+1,r19
 796 030c 2083      		st Z,r18
 154:Components/Sonar/Sonar.c ****          responseData[1] = getSonarData(3);
 798               	.LM48:
 799 030e 8A81      		ldd r24,Y+2
 800 0310 9B81      		ldd r25,Y+3
 801 0312 8C01      		movw r16,r24
 802 0314 0E5F      		subi r16,-2
 803 0316 1F4F      		sbci r17,-1
 804 0318 83E0      		ldi r24,lo8(3)
 805 031a 90E0      		ldi r25,0
 806 031c 0E94 0000 		call getSonarData
 807 0320 F801      		movw r30,r16
 808 0322 9183      		std Z+1,r25
 809 0324 8083      		st Z,r24
 155:Components/Sonar/Sonar.c ****          break;
 811               	.LM49:
 812 0326 00C0      		rjmp .L25
 813               	.L23:
 156:Components/Sonar/Sonar.c ****       case SONAR_GROUP_RIGHT:
 157:Components/Sonar/Sonar.c ****          responseData[0] = getSonarData(4);
 815               	.LM50:
 816 0328 84E0      		ldi r24,lo8(4)
 817 032a 90E0      		ldi r25,0
 818 032c 0E94 0000 		call getSonarData
 819 0330 9C01      		movw r18,r24
 820 0332 8A81      		ldd r24,Y+2
 821 0334 9B81      		ldd r25,Y+3
 822 0336 FC01      		movw r30,r24
 823 0338 3183      		std Z+1,r19
 824 033a 2083      		st Z,r18
 158:Components/Sonar/Sonar.c ****          responseData[1] = getSonarData(5);
 826               	.LM51:
 827 033c 8A81      		ldd r24,Y+2
 828 033e 9B81      		ldd r25,Y+3
 829 0340 8C01      		movw r16,r24
 830 0342 0E5F      		subi r16,-2
 831 0344 1F4F      		sbci r17,-1
 832 0346 85E0      		ldi r24,lo8(5)
 833 0348 90E0      		ldi r25,0
 834 034a 0E94 0000 		call getSonarData
 835 034e F801      		movw r30,r16
 836 0350 9183      		std Z+1,r25
 837 0352 8083      		st Z,r24
 159:Components/Sonar/Sonar.c ****          break;
 839               	.LM52:
 840 0354 0000      		nop
 841               	.L25:
 842               	/* epilogue start */
 160:Components/Sonar/Sonar.c ****    }
 161:Components/Sonar/Sonar.c **** 
 162:Components/Sonar/Sonar.c **** }
 844               	.LM53:
 845 0356 0F90      		pop __tmp_reg__
 846 0358 0F90      		pop __tmp_reg__
 847 035a 0F90      		pop __tmp_reg__
 848 035c DF91      		pop r29
 849 035e CF91      		pop r28
 850 0360 1F91      		pop r17
 851 0362 0F91      		pop r16
 852 0364 0895      		ret
 854               	.Lscope10:
 856               		.stabd	78,0,0
 866               	.Letext0:
 867               		.ident	"GCC: (GNU) 4.8.2"
 868               	.global __do_copy_data
 869               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:0000000000000000 Sonar.c
     /tmp/ccLdpqgH.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccLdpqgH.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccLdpqgH.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccLdpqgH.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccLdpqgH.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccLdpqgH.s:7      *ABS*:0000000000000001 __zero_reg__
                            *COM*:0000000000000002 sonarSemaphore
                            *COM*:000000000000000c sonarDataMutex
                             .bss:0000000000000000 sonarData
     /tmp/ccLdpqgH.s:139    .bss:000000000000000c sonarNum0
     /tmp/ccLdpqgH.s:145    .data:0000000000000000 sonarNum1
     /tmp/ccLdpqgH.s:149    .data:0000000000000002 sonarNum2
     /tmp/ccLdpqgH.s:141    .bss:000000000000000e currSonar
     /tmp/ccLdpqgH.s:152    .bss:000000000000000f lastSonarData
     /tmp/ccLdpqgH.s:161    .text:0000000000000000 setSonarData
     /tmp/ccLdpqgH.s:211    .text:0000000000000038 getSonarData
     /tmp/ccLdpqgH.s:254    .text:0000000000000064 getTimerCount
     /tmp/ccLdpqgH.s:286    .text:000000000000007a __vector_11
     /tmp/ccLdpqgH.s:435    .text:0000000000000158 sonarADCHandler
     /tmp/ccLdpqgH.s:482    .text:000000000000018e initializeSonarSensors
     /tmp/ccLdpqgH.s:542    .text:00000000000001d8 vTaskSonar
     /tmp/ccLdpqgH.s:581    .text:00000000000001f6 getAllSensors
     /tmp/ccLdpqgH.s:658    .text:000000000000024c getCertainSensor
     /tmp/ccLdpqgH.s:724    .text:000000000000029e getSensorGroup

UNDEFINED SYMBOLS
xQueueGenericSendFromISR
addADCDevice
vTaskDelay
__do_copy_data
__do_clear_bss
