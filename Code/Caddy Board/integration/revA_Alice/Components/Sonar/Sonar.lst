   1               		.file	"Sonar.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  10               		.text
  11               	.Ltext0:
  99               	.global	lastSonarData
 100               	.global	lastSonarData
 101               		.section .bss
 104               	lastSonarData:
 105 0000 00        		.skip 1,0
 106               		.text
 110               	.global	setSonarData
 112               	setSonarData:
 113               		.stabd	46,0,0
   1:Components/Sonar/Sonar.c **** // Code to controller the Sonar sensors
   2:Components/Sonar/Sonar.c **** #include "FreeRTOS.h"
   3:Components/Sonar/Sonar.c **** #include "semphr.h"
   4:Components/Sonar/Sonar.c **** #include <avr/interrupt.h>
   5:Components/Sonar/Sonar.c **** #include <avr/io.h>
   6:Components/Sonar/Sonar.c **** 
   7:Components/Sonar/Sonar.c **** #include "../../protocol.h"
   8:Components/Sonar/Sonar.c **** #include "Sonar.h"
   9:Components/Sonar/Sonar.c **** 
  10:Components/Sonar/Sonar.c **** xSemaphoreHandle* sonarSemaphore;
  11:Components/Sonar/Sonar.c **** xSemaphoreHandle* sonarDataMutex[6];
  12:Components/Sonar/Sonar.c **** 
  13:Components/Sonar/Sonar.c **** unsigned char sonarData[6];
  14:Components/Sonar/Sonar.c **** extern int count;
  15:Components/Sonar/Sonar.c **** 
  16:Components/Sonar/Sonar.c **** unsigned char currSonar;
  17:Components/Sonar/Sonar.c **** unsigned char lastSonarData = 0;
  18:Components/Sonar/Sonar.c ****    
  19:Components/Sonar/Sonar.c **** void setSonarData(int i,unsigned char data){
 115               	.LM0:
 116               	.LFBB1:
 117 0000 DF93      		push r29
 118 0002 CF93      		push r28
 119 0004 00D0      		rcall .
 120 0006 CDB7      		in r28,__SP_L__
 121 0008 DEB7      		in r29,__SP_H__
 122               	/* prologue: function */
 123               	/* frame size = 3 */
 124 000a 9A83      		std Y+2,r25
 125 000c 8983      		std Y+1,r24
 126 000e 6B83      		std Y+3,r22
  20:Components/Sonar/Sonar.c **** // xSemaphoreTake(sonarDataMutex[i],portMAX_DELAY);
  21:Components/Sonar/Sonar.c ****    sonarData[i] = data;
 128               	.LM1:
 129 0010 8981      		ldd r24,Y+1
 130 0012 9A81      		ldd r25,Y+2
 131 0014 FC01      		movw r30,r24
 132 0016 E050      		subi r30,lo8(-(sonarData))
 133 0018 F040      		sbci r31,hi8(-(sonarData))
 134 001a 8B81      		ldd r24,Y+3
 135 001c 8083      		st Z,r24
 136               	/* epilogue start */
  22:Components/Sonar/Sonar.c ****    //xSemaphoreGive(sonarDataMutex[i]);
  23:Components/Sonar/Sonar.c **** }
 138               	.LM2:
 139 001e 0F90      		pop __tmp_reg__
 140 0020 0F90      		pop __tmp_reg__
 141 0022 0F90      		pop __tmp_reg__
 142 0024 CF91      		pop r28
 143 0026 DF91      		pop r29
 144 0028 0895      		ret
 146               	.Lscope1:
 148               		.stabd	78,0,0
 151               	.global	getSonarData
 153               	getSonarData:
 154               		.stabd	46,0,0
  24:Components/Sonar/Sonar.c **** 
  25:Components/Sonar/Sonar.c **** unsigned char getSonarData(int i){
 156               	.LM3:
 157               	.LFBB2:
 158 002a DF93      		push r29
 159 002c CF93      		push r28
 160 002e 0F92      		push __tmp_reg__
 161 0030 0F92      		push __tmp_reg__
 162 0032 CDB7      		in r28,__SP_L__
 163 0034 DEB7      		in r29,__SP_H__
 164               	/* prologue: function */
 165               	/* frame size = 2 */
 166 0036 9A83      		std Y+2,r25
 167 0038 8983      		std Y+1,r24
  26:Components/Sonar/Sonar.c ****    //xSemaphoreTake(sonarDataMutex[i],portMAX_DELAY);
  27:Components/Sonar/Sonar.c ****    //return sonarData[i];
  28:Components/Sonar/Sonar.c ****    return i + 2;
 169               	.LM4:
 170 003a 8981      		ldd r24,Y+1
 171 003c 8E5F      		subi r24,lo8(-(2))
 172               	/* epilogue start */
  29:Components/Sonar/Sonar.c ****    //xSemaphoreGive(sonarDataMutex[i]);
  30:Components/Sonar/Sonar.c **** }
 174               	.LM5:
 175 003e 0F90      		pop __tmp_reg__
 176 0040 0F90      		pop __tmp_reg__
 177 0042 CF91      		pop r28
 178 0044 DF91      		pop r29
 179 0046 0895      		ret
 181               	.Lscope2:
 183               		.stabd	78,0,0
 185               	.global	getTimerCount
 187               	getTimerCount:
 188               		.stabd	46,0,0
  31:Components/Sonar/Sonar.c **** 
  32:Components/Sonar/Sonar.c **** unsigned char getTimerCount(){
 190               	.LM6:
 191               	.LFBB3:
 192 0048 DF93      		push r29
 193 004a CF93      		push r28
 194 004c CDB7      		in r28,__SP_L__
 195 004e DEB7      		in r29,__SP_H__
 196               	/* prologue: function */
 197               	/* frame size = 0 */
  33:Components/Sonar/Sonar.c ****    return TCNT0;
 199               	.LM7:
 200 0050 E6E4      		ldi r30,lo8(70)
 201 0052 F0E0      		ldi r31,hi8(70)
 202 0054 8081      		ld r24,Z
 203               	/* epilogue start */
  34:Components/Sonar/Sonar.c **** }
 205               	.LM8:
 206 0056 CF91      		pop r28
 207 0058 DF91      		pop r29
 208 005a 0895      		ret
 210               	.Lscope3:
 212               		.stabd	78,0,0
 214               	.global	__vector_11
 216               	__vector_11:
 217               		.stabd	46,0,0
  35:Components/Sonar/Sonar.c **** 
  36:Components/Sonar/Sonar.c **** inline void setTimerCount(unsigned char i){
  37:Components/Sonar/Sonar.c ****    TCNT0 = i;
  38:Components/Sonar/Sonar.c **** }
  39:Components/Sonar/Sonar.c **** 
  40:Components/Sonar/Sonar.c **** ISR(PCINT2_vect) {
 219               	.LM9:
 220               	.LFBB4:
 221 005c 1F92      		push __zero_reg__
 222 005e 0F92      		push r0
 223 0060 0FB6      		in r0,__SREG__
 224 0062 0F92      		push r0
 225 0064 0090 5B00 		lds r0,91
 226 0068 0F92      		push r0
 227 006a 1124      		clr __zero_reg__
 228 006c 2F93      		push r18
 229 006e 3F93      		push r19
 230 0070 4F93      		push r20
 231 0072 5F93      		push r21
 232 0074 6F93      		push r22
 233 0076 7F93      		push r23
 234 0078 8F93      		push r24
 235 007a 9F93      		push r25
 236 007c AF93      		push r26
 237 007e BF93      		push r27
 238 0080 EF93      		push r30
 239 0082 FF93      		push r31
 240 0084 DF93      		push r29
 241 0086 CF93      		push r28
 242 0088 00D0      		rcall .
 243 008a CDB7      		in r28,__SP_L__
 244 008c DEB7      		in r29,__SP_H__
 245               	/* prologue: Signal */
 246               	/* frame size = 3 */
  41:Components/Sonar/Sonar.c **** 
  42:Components/Sonar/Sonar.c ****    unsigned char beginCount;
  43:Components/Sonar/Sonar.c ****    unsigned char currCount;
  44:Components/Sonar/Sonar.c ****    char i=0;   
 248               	.LM10:
 249 008e 1982      		std Y+1,__zero_reg__
  45:Components/Sonar/Sonar.c **** 
  46:Components/Sonar/Sonar.c ****    if(PINK&(1<<currSonar)){
 251               	.LM11:
 252 0090 E6E0      		ldi r30,lo8(262)
 253 0092 F1E0      		ldi r31,hi8(262)
 254 0094 8081      		ld r24,Z
 255 0096 282F      		mov r18,r24
 256 0098 30E0      		ldi r19,lo8(0)
 257 009a 8091 0000 		lds r24,currSonar
 258 009e 882F      		mov r24,r24
 259 00a0 90E0      		ldi r25,lo8(0)
 260 00a2 A901      		movw r20,r18
 261 00a4 00C0      		rjmp 2f
 262 00a6 5595      	1:	asr r21
 263 00a8 4795      		ror r20
 264 00aa 8A95      	2:	dec r24
 265 00ac 02F4      		brpl 1b
 266 00ae CA01      		movw r24,r20
 267 00b0 8170      		andi r24,lo8(1)
 268 00b2 9070      		andi r25,hi8(1)
 269 00b4 8823      		tst r24
 270 00b6 01F0      		breq .L8
  47:Components/Sonar/Sonar.c ****       //USART_AddToQueue('U');
  48:Components/Sonar/Sonar.c ****       beginCount = getTimerCount();
 272               	.LM12:
 273 00b8 0E94 0000 		call getTimerCount
 274 00bc 8B83      		std Y+3,r24
  49:Components/Sonar/Sonar.c ****       PORTE = 0xFF;
 276               	.LM13:
 277 00be EEE2      		ldi r30,lo8(46)
 278 00c0 F0E0      		ldi r31,hi8(46)
 279 00c2 8FEF      		ldi r24,lo8(-1)
 280 00c4 8083      		st Z,r24
 281 00c6 00C0      		rjmp .L11
 282               	.L8:
  50:Components/Sonar/Sonar.c ****    } else {
  51:Components/Sonar/Sonar.c ****       //USART_AddToQueue('D');
  52:Components/Sonar/Sonar.c ****       currCount = getTimerCount();
 284               	.LM14:
 285 00c8 0E94 0000 		call getTimerCount
 286 00cc 8A83      		std Y+2,r24
  53:Components/Sonar/Sonar.c ****       if(currCount > beginCount){
 288               	.LM15:
 289 00ce 9A81      		ldd r25,Y+2
 290 00d0 8B81      		ldd r24,Y+3
 291 00d2 8917      		cp r24,r25
 292 00d4 00F4      		brsh .L10
  54:Components/Sonar/Sonar.c ****          lastSonarData = currCount - beginCount;
 294               	.LM16:
 295 00d6 8A81      		ldd r24,Y+2
 296 00d8 9B81      		ldd r25,Y+3
 297 00da 891B      		sub r24,r25
 298 00dc 8093 0000 		sts lastSonarData,r24
 299               	.L10:
  55:Components/Sonar/Sonar.c ****       }
  56:Components/Sonar/Sonar.c ****       PORTE = 0;
 301               	.LM17:
 302 00e0 EEE2      		ldi r30,lo8(46)
 303 00e2 F0E0      		ldi r31,hi8(46)
 304 00e4 1082      		st Z,__zero_reg__
  57:Components/Sonar/Sonar.c ****       xSemaphoreGiveFromISR(sonarSemaphore,0);
 306               	.LM18:
 307 00e6 8091 0000 		lds r24,sonarSemaphore
 308 00ea 9091 0000 		lds r25,(sonarSemaphore)+1
 309 00ee 60E0      		ldi r22,lo8(0)
 310 00f0 70E0      		ldi r23,hi8(0)
 311 00f2 40E0      		ldi r20,lo8(0)
 312 00f4 50E0      		ldi r21,hi8(0)
 313 00f6 20E0      		ldi r18,lo8(0)
 314 00f8 0E94 0000 		call xQueueGenericSendFromISR
 315               	.L11:
 316               	/* epilogue start */
  58:Components/Sonar/Sonar.c ****    }
  59:Components/Sonar/Sonar.c **** 
  60:Components/Sonar/Sonar.c **** }
 318               	.LM19:
 319 00fc 0F90      		pop __tmp_reg__
 320 00fe 0F90      		pop __tmp_reg__
 321 0100 0F90      		pop __tmp_reg__
 322 0102 CF91      		pop r28
 323 0104 DF91      		pop r29
 324 0106 FF91      		pop r31
 325 0108 EF91      		pop r30
 326 010a BF91      		pop r27
 327 010c AF91      		pop r26
 328 010e 9F91      		pop r25
 329 0110 8F91      		pop r24
 330 0112 7F91      		pop r23
 331 0114 6F91      		pop r22
 332 0116 5F91      		pop r21
 333 0118 4F91      		pop r20
 334 011a 3F91      		pop r19
 335 011c 2F91      		pop r18
 336 011e 0F90      		pop r0
 337 0120 0092 5B00 		sts 91,r0
 338 0124 0F90      		pop r0
 339 0126 0FBE      		out __SREG__,r0
 340 0128 0F90      		pop r0
 341 012a 1F90      		pop __zero_reg__
 342 012c 1895      		reti
 349               	.Lscope4:
 351               		.stabd	78,0,0
 353               	.global	initializeSonarSensors
 355               	initializeSonarSensors:
 356               		.stabd	46,0,0
  61:Components/Sonar/Sonar.c **** 
  62:Components/Sonar/Sonar.c **** void initializeSonarSensors(){
 358               	.LM20:
 359               	.LFBB5:
 360 012e DF93      		push r29
 361 0130 CF93      		push r28
 362 0132 CDB7      		in r28,__SP_L__
 363 0134 DEB7      		in r29,__SP_H__
 364               	/* prologue: function */
 365               	/* frame size = 0 */
  63:Components/Sonar/Sonar.c ****    //DDRD &= 0xFE;   
  64:Components/Sonar/Sonar.c ****    DIDR2 = 0;
 367               	.LM21:
 368 0136 EDE7      		ldi r30,lo8(125)
 369 0138 F0E0      		ldi r31,hi8(125)
 370 013a 1082      		st Z,__zero_reg__
  65:Components/Sonar/Sonar.c ****    DDRK = 0;
 372               	.LM22:
 373 013c E7E0      		ldi r30,lo8(263)
 374 013e F1E0      		ldi r31,hi8(263)
 375 0140 1082      		st Z,__zero_reg__
  66:Components/Sonar/Sonar.c ****    DDRC = 0;
 377               	.LM23:
 378 0142 E7E2      		ldi r30,lo8(39)
 379 0144 F0E0      		ldi r31,hi8(39)
 380 0146 1082      		st Z,__zero_reg__
  67:Components/Sonar/Sonar.c **** 
  68:Components/Sonar/Sonar.c ****    PORTC = 0;
 382               	.LM24:
 383 0148 E8E2      		ldi r30,lo8(40)
 384 014a F0E0      		ldi r31,hi8(40)
 385 014c 1082      		st Z,__zero_reg__
  69:Components/Sonar/Sonar.c **** 
  70:Components/Sonar/Sonar.c ****    //EICRA = 1;
  71:Components/Sonar/Sonar.c ****    //EIMSK = 1;
  72:Components/Sonar/Sonar.c **** 
  73:Components/Sonar/Sonar.c ****    PCMSK2 = 0xFF;
 387               	.LM25:
 388 014e EDE6      		ldi r30,lo8(109)
 389 0150 F0E0      		ldi r31,hi8(109)
 390 0152 8FEF      		ldi r24,lo8(-1)
 391 0154 8083      		st Z,r24
  74:Components/Sonar/Sonar.c ****    PCICR = 0x7;
 393               	.LM26:
 394 0156 E8E6      		ldi r30,lo8(104)
 395 0158 F0E0      		ldi r31,hi8(104)
 396 015a 87E0      		ldi r24,lo8(7)
 397 015c 8083      		st Z,r24
  75:Components/Sonar/Sonar.c **** 
  76:Components/Sonar/Sonar.c ****    TCCR0A = 0;
 399               	.LM27:
 400 015e E4E4      		ldi r30,lo8(68)
 401 0160 F0E0      		ldi r31,hi8(68)
 402 0162 1082      		st Z,__zero_reg__
  77:Components/Sonar/Sonar.c ****    TCCR0B = 5;
 404               	.LM28:
 405 0164 E5E4      		ldi r30,lo8(69)
 406 0166 F0E0      		ldi r31,hi8(69)
 407 0168 85E0      		ldi r24,lo8(5)
 408 016a 8083      		st Z,r24
 409               	/* epilogue start */
  78:Components/Sonar/Sonar.c **** 
  79:Components/Sonar/Sonar.c **** }
 411               	.LM29:
 412 016c CF91      		pop r28
 413 016e DF91      		pop r29
 414 0170 0895      		ret
 416               	.Lscope5:
 418               		.stabd	78,0,0
 421               	.global	vTaskSonar
 423               	vTaskSonar:
 424               		.stabd	46,0,0
  80:Components/Sonar/Sonar.c **** 
  81:Components/Sonar/Sonar.c **** void vTaskSonar(void* parameter){
 426               	.LM30:
 427               	.LFBB6:
 428 0172 DF93      		push r29
 429 0174 CF93      		push r28
 430 0176 00D0      		rcall .
 431 0178 0F92      		push __tmp_reg__
 432 017a CDB7      		in r28,__SP_L__
 433 017c DEB7      		in r29,__SP_H__
 434               	/* prologue: function */
 435               	/* frame size = 4 */
 436 017e 9C83      		std Y+4,r25
 437 0180 8B83      		std Y+3,r24
  82:Components/Sonar/Sonar.c **** 
  83:Components/Sonar/Sonar.c ****    int i;
  84:Components/Sonar/Sonar.c ****    initializeSonarSensors();
 439               	.LM31:
 440 0182 0E94 0000 		call initializeSonarSensors
  85:Components/Sonar/Sonar.c ****    
  86:Components/Sonar/Sonar.c ****    vSemaphoreCreateBinary(sonarSemaphore);
 442               	.LM32:
 443 0186 81E0      		ldi r24,lo8(1)
 444 0188 60E0      		ldi r22,lo8(0)
 445 018a 43E0      		ldi r20,lo8(3)
 446 018c 0E94 0000 		call xQueueGenericCreate
 447 0190 9093 0000 		sts (sonarSemaphore)+1,r25
 448 0194 8093 0000 		sts sonarSemaphore,r24
 449 0198 8091 0000 		lds r24,sonarSemaphore
 450 019c 9091 0000 		lds r25,(sonarSemaphore)+1
 451 01a0 0097      		sbiw r24,0
 452 01a2 01F0      		breq .L15
 453 01a4 8091 0000 		lds r24,sonarSemaphore
 454 01a8 9091 0000 		lds r25,(sonarSemaphore)+1
 455 01ac 60E0      		ldi r22,lo8(0)
 456 01ae 70E0      		ldi r23,hi8(0)
 457 01b0 40E0      		ldi r20,lo8(0)
 458 01b2 50E0      		ldi r21,hi8(0)
 459 01b4 20E0      		ldi r18,lo8(0)
 460 01b6 0E94 0000 		call xQueueGenericSend
 461               	.L15:
  87:Components/Sonar/Sonar.c ****       
  88:Components/Sonar/Sonar.c ****    currSonar = 0;
 463               	.LM33:
 464 01ba 1092 0000 		sts currSonar,__zero_reg__
 465               	.L18:
  89:Components/Sonar/Sonar.c **** 
  90:Components/Sonar/Sonar.c ****    while(1){
  91:Components/Sonar/Sonar.c ****       for(i=0;i<2;i++){
 467               	.LM34:
 468 01be 1A82      		std Y+2,__zero_reg__
 469 01c0 1982      		std Y+1,__zero_reg__
 470 01c2 00C0      		rjmp .L16
 471               	.L17:
  92:Components/Sonar/Sonar.c ****          currSonar = i;
 473               	.LM35:
 474 01c4 8981      		ldd r24,Y+1
 475 01c6 8093 0000 		sts currSonar,r24
  93:Components/Sonar/Sonar.c ****          PORTC = (1<<i);
 477               	.LM36:
 478 01ca E8E2      		ldi r30,lo8(40)
 479 01cc F0E0      		ldi r31,hi8(40)
 480 01ce 81E0      		ldi r24,lo8(1)
 481 01d0 90E0      		ldi r25,hi8(1)
 482 01d2 0980      		ldd r0,Y+1
 483 01d4 00C0      		rjmp 2f
 484 01d6 880F      	1:	lsl r24
 485 01d8 991F      		rol r25
 486 01da 0A94      	2:	dec r0
 487 01dc 02F4      		brpl 1b
 488 01de 8083      		st Z,r24
  94:Components/Sonar/Sonar.c ****          xSemaphoreTake(sonarSemaphore,portMAX_DELAY);
 490               	.LM37:
 491 01e0 8091 0000 		lds r24,sonarSemaphore
 492 01e4 9091 0000 		lds r25,(sonarSemaphore)+1
 493 01e8 60E0      		ldi r22,lo8(0)
 494 01ea 70E0      		ldi r23,hi8(0)
 495 01ec 4FEF      		ldi r20,lo8(-1)
 496 01ee 5FEF      		ldi r21,hi8(-1)
 497 01f0 20E0      		ldi r18,lo8(0)
 498 01f2 0E94 0000 		call xQueueGenericReceive
  95:Components/Sonar/Sonar.c ****          setSonarData(i,lastSonarData);
 500               	.LM38:
 501 01f6 2091 0000 		lds r18,lastSonarData
 502 01fa 8981      		ldd r24,Y+1
 503 01fc 9A81      		ldd r25,Y+2
 504 01fe 622F      		mov r22,r18
 505 0200 0E94 0000 		call setSonarData
  91:Components/Sonar/Sonar.c ****       for(i=0;i<2;i++){
 507               	.LM39:
 508 0204 8981      		ldd r24,Y+1
 509 0206 9A81      		ldd r25,Y+2
 510 0208 0196      		adiw r24,1
 511 020a 9A83      		std Y+2,r25
 512 020c 8983      		std Y+1,r24
 513               	.L16:
 514 020e 8981      		ldd r24,Y+1
 515 0210 9A81      		ldd r25,Y+2
 516 0212 8230      		cpi r24,2
 517 0214 9105      		cpc r25,__zero_reg__
 518 0216 04F0      		brlt .L17
 519 0218 00C0      		rjmp .L18
 524               	.Lscope6:
 526               		.stabd	78,0,0
 529               	.global	getAllSensors
 531               	getAllSensors:
 532               		.stabd	46,0,0
  96:Components/Sonar/Sonar.c ****       }
  97:Components/Sonar/Sonar.c ****    }
  98:Components/Sonar/Sonar.c ****             
  99:Components/Sonar/Sonar.c **** } 
 100:Components/Sonar/Sonar.c **** 
 101:Components/Sonar/Sonar.c **** char getAllSensors(unsigned short* responseData){
 534               	.LM40:
 535               	.LFBB7:
 536 021a 0F93      		push r16
 537 021c 1F93      		push r17
 538 021e DF93      		push r29
 539 0220 CF93      		push r28
 540 0222 00D0      		rcall .
 541 0224 0F92      		push __tmp_reg__
 542 0226 0F92      		push __tmp_reg__
 543 0228 CDB7      		in r28,__SP_L__
 544 022a DEB7      		in r29,__SP_H__
 545               	/* prologue: function */
 546               	/* frame size = 5 */
 547 022c 9C83      		std Y+4,r25
 548 022e 8B83      		std Y+3,r24
 102:Components/Sonar/Sonar.c ****    unsigned short i;
 103:Components/Sonar/Sonar.c ****    for(i=0;i<6;i++){
 550               	.LM41:
 551 0230 1A82      		std Y+2,__zero_reg__
 552 0232 1982      		std Y+1,__zero_reg__
 553 0234 00C0      		rjmp .L21
 554               	.L22:
 104:Components/Sonar/Sonar.c ****       responseData[i] = getSonarData(i);
 556               	.LM42:
 557 0236 8981      		ldd r24,Y+1
 558 0238 9A81      		ldd r25,Y+2
 559 023a 9C01      		movw r18,r24
 560 023c 220F      		lsl r18
 561 023e 331F      		rol r19
 562 0240 8B81      		ldd r24,Y+3
 563 0242 9C81      		ldd r25,Y+4
 564 0244 8C01      		movw r16,r24
 565 0246 020F      		add r16,r18
 566 0248 131F      		adc r17,r19
 567 024a 8981      		ldd r24,Y+1
 568 024c 9A81      		ldd r25,Y+2
 569 024e 0E94 0000 		call getSonarData
 570 0252 882F      		mov r24,r24
 571 0254 90E0      		ldi r25,lo8(0)
 572 0256 F801      		movw r30,r16
 573 0258 9183      		std Z+1,r25
 574 025a 8083      		st Z,r24
 103:Components/Sonar/Sonar.c ****    for(i=0;i<6;i++){
 576               	.LM43:
 577 025c 8981      		ldd r24,Y+1
 578 025e 9A81      		ldd r25,Y+2
 579 0260 0196      		adiw r24,1
 580 0262 9A83      		std Y+2,r25
 581 0264 8983      		std Y+1,r24
 582               	.L21:
 583 0266 8981      		ldd r24,Y+1
 584 0268 9A81      		ldd r25,Y+2
 585 026a 8630      		cpi r24,6
 586 026c 9105      		cpc r25,__zero_reg__
 587 026e 00F0      		brlo .L22
 588               	/* epilogue start */
 105:Components/Sonar/Sonar.c ****       //responseData[i] = i;
 106:Components/Sonar/Sonar.c ****    }
 107:Components/Sonar/Sonar.c **** }
 590               	.LM44:
 591 0270 0F90      		pop __tmp_reg__
 592 0272 0F90      		pop __tmp_reg__
 593 0274 0F90      		pop __tmp_reg__
 594 0276 0F90      		pop __tmp_reg__
 595 0278 0F90      		pop __tmp_reg__
 596 027a CF91      		pop r28
 597 027c DF91      		pop r29
 598 027e 1F91      		pop r17
 599 0280 0F91      		pop r16
 600 0282 0895      		ret
 605               	.Lscope7:
 607               		.stabd	78,0,0
 611               	.global	getCertainSensor
 613               	getCertainSensor:
 614               		.stabd	46,0,0
 108:Components/Sonar/Sonar.c **** 
 109:Components/Sonar/Sonar.c **** char getCertainSensor(char commandData,int* responseData){
 616               	.LM45:
 617               	.LFBB8:
 618 0284 0F93      		push r16
 619 0286 1F93      		push r17
 620 0288 DF93      		push r29
 621 028a CF93      		push r28
 622 028c 00D0      		rcall .
 623 028e 0F92      		push __tmp_reg__
 624 0290 CDB7      		in r28,__SP_L__
 625 0292 DEB7      		in r29,__SP_H__
 626               	/* prologue: function */
 627               	/* frame size = 4 */
 628 0294 8983      		std Y+1,r24
 629 0296 7B83      		std Y+3,r23
 630 0298 6A83      		std Y+2,r22
 110:Components/Sonar/Sonar.c ****    if(commandData < 6){
 632               	.LM46:
 633 029a 8981      		ldd r24,Y+1
 634 029c 8630      		cpi r24,lo8(6)
 635 029e 04F4      		brge .L27
 111:Components/Sonar/Sonar.c ****       responseData[commandData] = getSonarData(commandData);
 637               	.LM47:
 638 02a0 8981      		ldd r24,Y+1
 639 02a2 9927      		clr r25
 640 02a4 87FD      		sbrc r24,7
 641 02a6 9095      		com r25
 642 02a8 9C01      		movw r18,r24
 643 02aa 220F      		lsl r18
 644 02ac 331F      		rol r19
 645 02ae 8A81      		ldd r24,Y+2
 646 02b0 9B81      		ldd r25,Y+3
 647 02b2 8C01      		movw r16,r24
 648 02b4 020F      		add r16,r18
 649 02b6 131F      		adc r17,r19
 650 02b8 8981      		ldd r24,Y+1
 651 02ba 9927      		clr r25
 652 02bc 87FD      		sbrc r24,7
 653 02be 9095      		com r25
 654 02c0 0E94 0000 		call getSonarData
 655 02c4 882F      		mov r24,r24
 656 02c6 90E0      		ldi r25,lo8(0)
 657 02c8 F801      		movw r30,r16
 658 02ca 9183      		std Z+1,r25
 659 02cc 8083      		st Z,r24
 660               	.L27:
 661               	/* epilogue start */
 112:Components/Sonar/Sonar.c ****    }
 113:Components/Sonar/Sonar.c **** }
 663               	.LM48:
 664 02ce 0F90      		pop __tmp_reg__
 665 02d0 0F90      		pop __tmp_reg__
 666 02d2 0F90      		pop __tmp_reg__
 667 02d4 0F90      		pop __tmp_reg__
 668 02d6 CF91      		pop r28
 669 02d8 DF91      		pop r29
 670 02da 1F91      		pop r17
 671 02dc 0F91      		pop r16
 672 02de 0895      		ret
 674               	.Lscope8:
 676               		.stabd	78,0,0
 680               	.global	getSensorGroup
 682               	getSensorGroup:
 683               		.stabd	46,0,0
 114:Components/Sonar/Sonar.c **** 
 115:Components/Sonar/Sonar.c **** char getSensorGroup(char commandData,int* responseData){
 685               	.LM49:
 686               	.LFBB9:
 687 02e0 0F93      		push r16
 688 02e2 1F93      		push r17
 689 02e4 DF93      		push r29
 690 02e6 CF93      		push r28
 691 02e8 00D0      		rcall .
 692 02ea 00D0      		rcall .
 693 02ec CDB7      		in r28,__SP_L__
 694 02ee DEB7      		in r29,__SP_H__
 695               	/* prologue: function */
 696               	/* frame size = 6 */
 697 02f0 8983      		std Y+1,r24
 698 02f2 7B83      		std Y+3,r23
 699 02f4 6A83      		std Y+2,r22
 116:Components/Sonar/Sonar.c **** 
 117:Components/Sonar/Sonar.c ****    switch(commandData){
 701               	.LM50:
 702 02f6 8981      		ldd r24,Y+1
 703 02f8 282F      		mov r18,r24
 704 02fa 3327      		clr r19
 705 02fc 27FD      		sbrc r18,7
 706 02fe 3095      		com r19
 707 0300 3D83      		std Y+5,r19
 708 0302 2C83      		std Y+4,r18
 709 0304 8C81      		ldd r24,Y+4
 710 0306 9D81      		ldd r25,Y+5
 711 0308 8130      		cpi r24,1
 712 030a 9105      		cpc r25,__zero_reg__
 713 030c 01F0      		breq .L31
 714 030e EC81      		ldd r30,Y+4
 715 0310 FD81      		ldd r31,Y+5
 716 0312 E230      		cpi r30,2
 717 0314 F105      		cpc r31,__zero_reg__
 718 0316 01F0      		breq .L32
 719 0318 2C81      		ldd r18,Y+4
 720 031a 3D81      		ldd r19,Y+5
 721 031c 2115      		cp r18,__zero_reg__
 722 031e 3105      		cpc r19,__zero_reg__
 723 0320 01F0      		breq .+2
 724 0322 00C0      		rjmp .L34
 725               	.L30:
 118:Components/Sonar/Sonar.c ****       case SONAR_GROUP_LEFT:
 119:Components/Sonar/Sonar.c ****          responseData[0] = getSonarData(0);
 727               	.LM51:
 728 0324 80E0      		ldi r24,lo8(0)
 729 0326 90E0      		ldi r25,hi8(0)
 730 0328 0E94 0000 		call getSonarData
 731 032c 882F      		mov r24,r24
 732 032e 90E0      		ldi r25,lo8(0)
 733 0330 EA81      		ldd r30,Y+2
 734 0332 FB81      		ldd r31,Y+3
 735 0334 9183      		std Z+1,r25
 736 0336 8083      		st Z,r24
 120:Components/Sonar/Sonar.c ****          responseData[1] = getSonarData(1);
 738               	.LM52:
 739 0338 8A81      		ldd r24,Y+2
 740 033a 9B81      		ldd r25,Y+3
 741 033c 8C01      		movw r16,r24
 742 033e 0E5F      		subi r16,lo8(-(2))
 743 0340 1F4F      		sbci r17,hi8(-(2))
 744 0342 81E0      		ldi r24,lo8(1)
 745 0344 90E0      		ldi r25,hi8(1)
 746 0346 0E94 0000 		call getSonarData
 747 034a 882F      		mov r24,r24
 748 034c 90E0      		ldi r25,lo8(0)
 749 034e F801      		movw r30,r16
 750 0350 9183      		std Z+1,r25
 751 0352 8083      		st Z,r24
 752 0354 00C0      		rjmp .L34
 753               	.L31:
 121:Components/Sonar/Sonar.c ****          break;
 122:Components/Sonar/Sonar.c ****       case SONAR_GROUP_FRONT:
 123:Components/Sonar/Sonar.c ****          responseData[0] = getSonarData(2);
 755               	.LM53:
 756 0356 82E0      		ldi r24,lo8(2)
 757 0358 90E0      		ldi r25,hi8(2)
 758 035a 0E94 0000 		call getSonarData
 759 035e 882F      		mov r24,r24
 760 0360 90E0      		ldi r25,lo8(0)
 761 0362 EA81      		ldd r30,Y+2
 762 0364 FB81      		ldd r31,Y+3
 763 0366 9183      		std Z+1,r25
 764 0368 8083      		st Z,r24
 124:Components/Sonar/Sonar.c ****          responseData[1] = getSonarData(3);
 766               	.LM54:
 767 036a 8A81      		ldd r24,Y+2
 768 036c 9B81      		ldd r25,Y+3
 769 036e 8C01      		movw r16,r24
 770 0370 0E5F      		subi r16,lo8(-(2))
 771 0372 1F4F      		sbci r17,hi8(-(2))
 772 0374 83E0      		ldi r24,lo8(3)
 773 0376 90E0      		ldi r25,hi8(3)
 774 0378 0E94 0000 		call getSonarData
 775 037c 882F      		mov r24,r24
 776 037e 90E0      		ldi r25,lo8(0)
 777 0380 F801      		movw r30,r16
 778 0382 9183      		std Z+1,r25
 779 0384 8083      		st Z,r24
 780 0386 00C0      		rjmp .L34
 781               	.L32:
 125:Components/Sonar/Sonar.c ****          break;
 126:Components/Sonar/Sonar.c ****       case SONAR_GROUP_RIGHT:
 127:Components/Sonar/Sonar.c ****          responseData[0] = getSonarData(4);
 783               	.LM55:
 784 0388 84E0      		ldi r24,lo8(4)
 785 038a 90E0      		ldi r25,hi8(4)
 786 038c 0E94 0000 		call getSonarData
 787 0390 882F      		mov r24,r24
 788 0392 90E0      		ldi r25,lo8(0)
 789 0394 EA81      		ldd r30,Y+2
 790 0396 FB81      		ldd r31,Y+3
 791 0398 9183      		std Z+1,r25
 792 039a 8083      		st Z,r24
 128:Components/Sonar/Sonar.c ****          responseData[1] = getSonarData(5);
 794               	.LM56:
 795 039c 8A81      		ldd r24,Y+2
 796 039e 9B81      		ldd r25,Y+3
 797 03a0 8C01      		movw r16,r24
 798 03a2 0E5F      		subi r16,lo8(-(2))
 799 03a4 1F4F      		sbci r17,hi8(-(2))
 800 03a6 85E0      		ldi r24,lo8(5)
 801 03a8 90E0      		ldi r25,hi8(5)
 802 03aa 0E94 0000 		call getSonarData
 803 03ae 882F      		mov r24,r24
 804 03b0 90E0      		ldi r25,lo8(0)
 805 03b2 F801      		movw r30,r16
 806 03b4 9183      		std Z+1,r25
 807 03b6 8083      		st Z,r24
 808               	.L34:
 809               	/* epilogue start */
 129:Components/Sonar/Sonar.c ****          break;
 130:Components/Sonar/Sonar.c ****    }
 131:Components/Sonar/Sonar.c **** 
 132:Components/Sonar/Sonar.c **** }...
 811               	.LM57:
 812 03b8 2696      		adiw r28,6
 813 03ba 0FB6      		in __tmp_reg__,__SREG__
 814 03bc F894      		cli
 815 03be DEBF      		out __SP_H__,r29
 816 03c0 0FBE      		out __SREG__,__tmp_reg__
 817 03c2 CDBF      		out __SP_L__,r28
 818 03c4 CF91      		pop r28
 819 03c6 DF91      		pop r29
 820 03c8 1F91      		pop r17
 821 03ca 0F91      		pop r16
 822 03cc 0895      		ret
 824               	.Lscope9:
 826               		.stabd	78,0,0
 827               		.comm sonarSemaphore,2,1
 828               		.comm sonarDataMutex,12,1
 829               		.comm sonarData,6,1
 830               		.comm currSonar,1,1
 837               	.Letext0:
 838               	.global __do_clear_bss
DEFINED SYMBOLS
                            *ABS*:00000000 Sonar.c
     /tmp/cc2hsgEi.s:2      *ABS*:0000003f __SREG__
     /tmp/cc2hsgEi.s:3      *ABS*:0000003e __SP_H__
     /tmp/cc2hsgEi.s:4      *ABS*:0000003d __SP_L__
     /tmp/cc2hsgEi.s:5      *ABS*:00000034 __CCP__
     /tmp/cc2hsgEi.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/cc2hsgEi.s:7      *ABS*:00000001 __zero_reg__
     /tmp/cc2hsgEi.s:104    .bss:00000000 lastSonarData
     /tmp/cc2hsgEi.s:112    .text:00000000 setSonarData
                            *COM*:00000006 sonarData
     /tmp/cc2hsgEi.s:153    .text:0000002a getSonarData
     /tmp/cc2hsgEi.s:187    .text:00000048 getTimerCount
     /tmp/cc2hsgEi.s:216    .text:0000005c __vector_11
                            *COM*:00000001 currSonar
                            *COM*:00000002 sonarSemaphore
     /tmp/cc2hsgEi.s:355    .text:0000012e initializeSonarSensors
     /tmp/cc2hsgEi.s:423    .text:00000172 vTaskSonar
     /tmp/cc2hsgEi.s:531    .text:0000021a getAllSensors
     /tmp/cc2hsgEi.s:613    .text:00000284 getCertainSensor
     /tmp/cc2hsgEi.s:682    .text:000002e0 getSensorGroup
                            *COM*:0000000c sonarDataMutex

UNDEFINED SYMBOLS
xQueueGenericSendFromISR
xQueueGenericCreate
xQueueGenericSend
xQueueGenericReceive
__do_clear_bss
